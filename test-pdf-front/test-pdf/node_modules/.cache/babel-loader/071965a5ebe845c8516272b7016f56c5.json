{"ast":null,"code":"import _regeneratorRuntime from\"/var/www/html/obole_new/project-gestion-hospitalier/test-pdf-front/test-pdf/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/var/www/html/obole_new/project-gestion-hospitalier/test-pdf-front/test-pdf/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/var/www/html/obole_new/project-gestion-hospitalier/test-pdf-front/test-pdf/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import axios from'axios';import logo from\"./logo.svg\";import FileSaver,{saveAs}from'file-saver';import'./App.css';import jsPDF from'jspdf';function App(){var token=\"Xn1XLxeLEUSFWXVDhTVHgXIn3SePtdiFRKbf7BKChrhKQ11lrzpxESqL1wGFSV4i\";var _useState=useState(null),_useState2=_slicedToArray(_useState,2),embalmers=_useState2[0],setEmbalmers=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),month=_useState6[0],setMonth=_useState6[1];var _useState7=useState(null),_useState8=_slicedToArray(_useState7,2),conservations=_useState8[0],setConservations=_useState8[1];var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.get('http://localhost:3003/embalmer/list',{headers:{authorization:'Bearer '+token}});case 2:data=_context.sent;setEmbalmers(data.data);setIsLoading(false);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getData(){return _ref.apply(this,arguments);};}();useEffect(function(){getData();},[]);var getPdf=function getPdf(data){var doc=new jsPDF();var str=[];for(var i=0;i<data.length;i++){var html=\"<h2> Hello World </h2> <h4> GoodBye WOrld </h4>\";doc.text(html,10,10);}doc.save('a4.pdf');};if(isLoading===false){return/*#__PURE__*/React.createElement(\"div\",{className:\"App\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Hello World\"),embalmers.map(function(element){return/*#__PURE__*/React.createElement(\"form\",{method:\"post\",onSubmit:/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var conservationsByMonth;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:event.preventDefault();_context2.next=3;return axios.post('http://localhost:3003/summary/create/'+element.id,{month:month},{headers:{authorization:'Bearer '+token}});case 3:conservationsByMonth=_context2.sent;console.log(conservationsByMonth);getPdf(conservationsByMonth.data);case 6:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x){return _ref2.apply(this,arguments);};}()},/*#__PURE__*/React.createElement(\"label\",null,\" Choisir Le Mois Pour Le Thanato Practeur\"),/*#__PURE__*/React.createElement(\"label\",{name:\"thanato\"},\" \",element.firstname+' '+element.lastname),/*#__PURE__*/React.createElement(\"select\",{id:element.id,onChange:function onChange(event){setMonth(event.target.value);}},/*#__PURE__*/React.createElement(\"option\",{value:\"01\"},\" 01\"),/*#__PURE__*/React.createElement(\"option\",{value:\"02\"},\" 02\"),/*#__PURE__*/React.createElement(\"option\",{value:\"03\"},\" 03\"),/*#__PURE__*/React.createElement(\"option\",{value:\"04\"},\" 04\"),/*#__PURE__*/React.createElement(\"option\",{value:\"05\"},\" 05\"),/*#__PURE__*/React.createElement(\"option\",{value:\"06\"},\" 06\"),/*#__PURE__*/React.createElement(\"option\",{value:\"07\"},\" 07\"),/*#__PURE__*/React.createElement(\"option\",{value:\"08\"},\" 08\"),/*#__PURE__*/React.createElement(\"option\",{value:\"09\"},\" 09\"),/*#__PURE__*/React.createElement(\"option\",{value:\"10\"},\" 10\"),/*#__PURE__*/React.createElement(\"option\",{value:\"11\"},\" 11\"),/*#__PURE__*/React.createElement(\"option\",{value:\"12\"},\" 12\")),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\" Generer et Consulter le PDF \"));}));}else{return/*#__PURE__*/React.createElement(\"div\",null,\" Data Loading\");}}export default App;","map":{"version":3,"sources":["/var/www/html/obole_new/project-gestion-hospitalier/test-pdf-front/test-pdf/src/App.js"],"names":["React","useState","useEffect","axios","FileSaver","saveAs","jsPDF","App","token","embalmers","setEmbalmers","isLoading","setIsLoading","month","setMonth","conservations","setConservations","getData","get","headers","authorization","data","getPdf","doc","str","i","length","html","text","save","map","element","event","preventDefault","post","id","conservationsByMonth","console","log","firstname","lastname","target","value"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react';\nimport axios from 'axios';\nimport logo from './logo.svg';\nimport FileSaver, {saveAs} from 'file-saver';\nimport './App.css';\nimport jsPDF from 'jspdf'\n\n\n\nfunction App() {\n  const token=\"Xn1XLxeLEUSFWXVDhTVHgXIn3SePtdiFRKbf7BKChrhKQ11lrzpxESqL1wGFSV4i\"\n  const [embalmers,setEmbalmers]=useState(null)\n  const [isLoading,setIsLoading]=useState(true)\n  const [month,setMonth]=useState(null)\n  const [conservations,setConservations]=useState(null);\n  const getData=async()=>{\n    const data=await axios.get('http://localhost:3003/embalmer/list',{headers:{authorization:'Bearer '+token}});\n    setEmbalmers(data.data);\n    setIsLoading(false);\n  }\n  \n  useEffect(()=>{\n    getData();\n    \n   \n  },[])\n\n  const getPdf=(data)=>{\n    var doc = new jsPDF()\n    let str=[];\n    for(let i=0;i<data.length;i++){\n       let html=\"<h2> Hello World </h2> <h4> GoodBye WOrld </h4>\"\n      doc.text(html,10,10);\n      \n    }\n\n   \n    doc.save('a4.pdf')\n  }\n\n\n  \n \n  \n  if(isLoading===false){\n  return (\n\n    <div className=\"App\">\n       <h1>Hello World</h1> \n      \n\n       \n       \n       {embalmers.map(function(element){\n        \n         return (<form method=\"post\" onSubmit={async(event)=>{\n           event.preventDefault();\n           \n           \n           const conservationsByMonth=await axios.post('http://localhost:3003/summary/create/'+element.id,{month:month},{headers:{authorization:'Bearer '+token}}) \n            console.log(conservationsByMonth);\n\n            getPdf(conservationsByMonth.data);\n           \n\n         }}> \n         <label> Choisir Le Mois Pour Le Thanato Practeur</label> \n       <label name=\"thanato\"> {element.firstname+' '+element.lastname}</label>\n          <select id={element.id} onChange={(event)=>{\n            setMonth(event.target.value)\n          }}>\n            <option value=\"01\"> 01</option>\n            <option value=\"02\"> 02</option>\n            <option value=\"03\"> 03</option>\n            <option value=\"04\"> 04</option>\n            <option value=\"05\"> 05</option>\n            <option value=\"06\"> 06</option>\n            <option value=\"07\"> 07</option>\n            <option value=\"08\"> 08</option>\n            <option value=\"09\"> 09</option>\n            <option value=\"10\"> 10</option>\n            <option value=\"11\"> 11</option>\n            <option value=\"12\"> 12</option>\n            \n          </select>\n          <button type=\"submit\"> Generer et Consulter le PDF </button>\n         \n         </form>)\n       })}\n      \n      \n    </div>\n  \n  );\n  }\n\n  else{\n    return <div> Data Loading</div>\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}